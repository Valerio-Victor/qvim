---
title: '**Eficiência Orçamentária de Municípios Brasileiros**'
subtitle: '**Alcance dos Objetivos de Desenvolvimento Sustentável**'
author: '**Autores:** <br>[Moisés Vassallo](http://lattes.cnpq.br/8821972747380756) <br>[Rafael Miranda](http://lattes.cnpq.br/4478766390160865) <br>[Victor Valerio](http://lattes.cnpq.br/1989464933096922) <br>[André Medeiros](http://lattes.cnpq.br/4069096016693580) <br>[José Arnaldo Montevechi](http://lattes.cnpq.br/2169751971927037)'
date: '**Última Atualização:** <br>`r format(Sys.Date(), "%d-%m-%Y")`'
output:
  rmdformats::robobook:
    highlight: kate
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(warning = FALSE, 
                      message = FALSE, 
                      fig.align = 'center')
```

```{r include=FALSE}
# PACOTES: -----------------------------------------------------------------
library(magrittr)
library(ggplot2)
library(ggtext)
library(plotly)
library(crosstalk)
library(DT)


# CONFIGURAÇÕES: -----------------------------------------------------------
plotly_layout <- c('hoverClosestCartesian',
                   'hoverCompareCartesian',
                   'resetScale2d',
                   'zoom2d',
                   'sendDataToCloud',
                   'editInChartStudio',
                   'pan2d',
                   'select2d',
                   'lasso2d',
                   'drawclosedpath',
                   'drawopenpath',
                   'zoomIn2d',
                   'zoomOut2d',
                   'drawcircle',
                   'drawrect',
                   'drawline')


roxo_e <- '#440154FF'
roxo_c <- '#414487FF'
azul <- '#2A788EFF'
verde_e <- '#22A884FF'
verde_c <- '#7AD151FF'
amarelo <- '#FDE725FF'
cor_base <- '#428BCA'
contraste_base <- '#CD6A4C'


# IMPORTAÇÃO: --------------------------------------------------------------
regioes <- geobr::read_region(year = 2020, 
                              showProgress = FALSE)


estados <- geobr::read_state(year = 2020, 
                             showProgress = FALSE)


municipios <- geobr::read_municipal_seat(year = 2010, 
                                         showProgress = FALSE)

base <- readxl::read_xlsx(path = '../dados/20240926dea_final.xlsx',
                          sheet = 1) %>%
  janitor::clean_names() %>% 
  dplyr::mutate(id_municipio = as.numeric(id_municipio))

eficiencia <- readxl::read_xlsx(path = '../dados/resultados_dea_output.xlsx',
                          sheet = 1) %>%
  janitor::clean_names() %>% 
  dplyr::mutate(dmu = as.numeric(dmu))

populacao <- populacao <- sidrar::get_sidra(
  api = '/t/4714/n6/all/v/93/p/all') %>%
  janitor::clean_names() %>%
  dplyr::transmute(municipio_codigo = as.numeric(municipio_codigo),
                   pop = valor)


# ARRUMAÇÃO: ---------------------------------------------------------------
mapa_total <- municipios %>% 
  dplyr::left_join(base, by = c('code_muni' = 'id_municipio')) %>% 
  tidyr::drop_na() %>% 
  dplyr::select(code_muni,
                name_muni,
                abbrev_state,
                name_region, 
                geom)

mapa_insumos <- municipios %>% 
  dplyr::left_join(base, by = c('code_muni' = 'id_municipio')) %>% 
  tidyr::drop_na() %>% 
  dplyr::select(code_muni,
                name_muni,
                abbrev_state,
                name_region,
                !dplyr::contains('ODS'),
                !geom) %>%
  as.data.frame() %>% 
  dplyr::select(name_region, 
                name_muni,
                dplyr::contains('per_capta')) %>% 
  tidyr::pivot_longer(cols = !c(name_region,
                                name_muni),
                      names_to = 'insumo',
                      values_to = 'valor') %>% 
  dplyr::arrange(name_muni, desc(valor)) %>% 
  dplyr::mutate(insumo = dplyr::case_when(
    insumo == 'educacao_cultura_per_capta' ~ 'Educação e Cultura',
    insumo == 'saneamento_gestao_ambiental_per_capta' ~ 'Saneamento e Gestão Ambiental',
    insumo == 'saude_desporto_lazer_per_capta' ~ 'Saúde, Desporto e Lazer',
    insumo == 'urbanismo_habitacao_transporte_seguranca_agricultura_per_capta' ~ 'Urbanismo, Transporte e Segurança',
    insumo == 'outros_per_capta' ~ 'Outros')) 

mapa_produtos <- municipios %>% 
  dplyr::left_join(base, by = c('code_muni' = 'id_municipio')) %>% 
  tidyr::drop_na() %>% 
  dplyr::select(code_muni,
                name_muni,
                abbrev_state,
                name_region,
                dplyr::contains('ods'),
                !geom) %>%
  as.data.frame() %>% 
  dplyr::select(name_region, 
                name_muni,
                dplyr::contains('ods')) %>% 
  tidyr::pivot_longer(cols = !c(name_region,
                                name_muni),
                      names_to = 'produto',
                      values_to = 'valor') %>% 
  dplyr::arrange(name_muni, desc(valor)) %>% 
  dplyr::mutate(produto = dplyr::case_when(
    produto == 'ods3' ~ 'ODS 3',
    produto == 'ods4' ~ 'ODS 4',
    produto == 'ods6' ~ 'ODS 6 ',
    produto == 'ods11' ~ 'ODS 11'))  

```

# INTRODUÇÃO

## Contexto

O desenvolvimento sustentável é uma meta global cada vez mais urgente, 
especialmente em países como o Brasil, marcado por uma grande diversidade 
socioeconômica e ambiental, mas também por desafios persistentes de desigualdade, 
pobreza e degradação ambiental. Dentro desse contexto, a compreensão do progresso 
em direção aos Objetivos de Desenvolvimento Sustentável (ODS) em nível local 
torna-se crucial para informar políticas públicas e estratégias de desenvolvimento 
que promovam um futuro equilibrado e próspero para todas as comunidades.

Na última década, os ODS têm se consolidado como um marco importante para 
orientar as políticas de desenvolvimento em todo o mundo. Os ODS foram 
estabelecidos pela Organização das Nações Unidas (ONU), que de acordo com 
[Leal Filho et al. (2023)](https://www.sciencedirect.com/science/article/abs/pii/S0959652623012660), 
tem desempenhado um papel fundamental nos debates e nas ações 
para o desenvolvimento sustentável.

A proposta da ONU é de 17 ODS os quais são desdobrados em 169 metas que incluem 
uma ampla gama de questões relacionadas ao desenvolvimento sustentável 
[(Leal Filho et al., 2023)](https://www.sciencedirect.com/science/article/abs/pii/S0959652623012660), 
incluindo erradicação da pobreza, saúde, educação, 
igualdade de gênero, energia limpa, crescimento econômico e proteção ambiental. 
No entanto, para que esses objetivos sejam alcançados de forma eficaz, é 
essencial compreender como eles se manifestam em nível local e como os recursos 
disponíveis são alocados para sua consecução. 

Desde sua criação em 2015, os 17 ODS foram reconhecidos mutuamente por todos os
estados-membros da ONU como a representação do desenvolvimento sustentável. 
Assim, devem ser incorporados como a definição básica de desenvolvimento 
sustentável em metodologias de avaliação de sustentabilidade 
[(Eberling; Langkau, 2023)](https://www.sciencedirect.com/science/article/pii/S0959652623045419).

Os esforços nacionais para a atingir os ODS resultam a superação de vários 
obstáculos, como a priorização de objetivos e metas, a adaptação de estratégias 
e políticas do país para que estejam em conformidade com os ODS, o gerenciamento 
de compensações e a capitalização das sinergias entre os objetivos 
[(Aly et al., 2022)]().

Isto é, A promoção dos Objetivos de Desenvolvimento Sustentável (ODS) em nível 
municipal apresenta desafios significativos, especialmente em um país como o 
Brasil, caracterizado por grandes disparidades regionais e socioeconômicas. Os 
gestores municipais frequentemente enfrentam a difícil tarefa de priorizar 
políticas públicas em um cenário de recursos limitados, ao mesmo tempo que 
lidam com a complexidade e a interdependência das metas estabelecidas pelos ODS.

Em relação a supracitada interdependência, ressalta-se ainda que a integração de 
políticas públicas esbarra muitas vezes em políticas públicas municipais fragmentadas
em governos locais que enfrentam dificuldades de coordenação entre os diferentes
setores e níveis de governo.

## Objetivo 

COm base no exposto, objetivo do presente relatório consiste em estruturar um 
indicador de eficiência para municípios brasileiros no processo de atendimento de 
Objetivos de Desenvolvimento Sustentável (ODS) a partir do empenho do orçamento 
municipal (alocação de recursos). Para alcançar os resultados foram realizadas 
as seguintes etapas:

- Seleção de municípios brasileiros;

- Levantamento e análise do orçamento municipal recente;

- Levantamento e análise dos índices de atendimento municipal 
aos ODS;

- Estruturação de um indicador de eficiência orçamentária 
municipal que relaciona empenho orçamentário e atendimento aos
ODS;

- Mensuração do nível de eficiência alcançado por cada município;

- Análise comparativa dos resultados.

Assim, busca-se a partir deste objetivo destacar áreas de melhoria na gestão 
pública para promover alguns fatores do desenvolvimento sustentável, 
estruturados a partir das ODS, e fornecer insights relevantes para pautar políticas 
públicas mais eficazes a partir do estabelecimento de práticas municipais de 
referência, visando alcançar avanços significativos em direção aos ODS no país.

# FUNDAMENTAÇÃO TEÓRICA

## Objetivos de Desenvolvimento Sustentável (ODS)

Aprovada em 25 de setembro de 2015, após dois anos de consulta global com 
organizações da sociedade civil, cientistas, acadêmicos e cidadãos de todo o 
mundo, a Agenda 2030 para o Desenvolvimento Sustentável propôs 17 Objetivos de 
Desenvolvimento Sustentável – ODS (Sustainable Development Goals - SDG) 
juntamente com 169 metas e 231 indicadores. A Agenda 2030 baseia-se no princípio 
de “não deixar ninguém para trás”, na integração sistêmica dos pilares Sociais, 
Ambientais e Econômicos de Desenvolvimento Sustentável e na promoção de um mundo 
baseado nos cinco “Ps”: Pessoas, Planeta, Prosperidade, Paz e Parceria 
[(Trane et al., 2023)](https://www.mdpi.com/2071-1050/15/9/7055).

Embora o conceito de desenvolvimento sustentável tenha sido oficialmente 
introduzido em 1987 pela Comissão Mundial sobre Meio Ambiente e Desenvolvimento 
(World Commission on Environment and Development - WCED), os esforços para se 
atingir essa meta permanecem insatisfatórios. A Organização das Nações Unidas 
(ONU) se envolveu ativamente em discussões e esforços relacionados ao 
desenvolvimento sustentável, pois além de criar a WCED, ela apresentou no ano 
2000 as oito Metas de Desenvolvimento do Milênio (Millennium Development 
Goals - MDGs) a serem alcançadas até 2015, com foco em questões como pobreza, 
educação, igualdade de gênero, mortalidade infantil, saúde, preservação ambiental 
e cooperação global. Posteriormente, em 2015, a ONU 
[(United Nations, 2015)](https://sdgs.un.org/)
mais uma vez assumiu a liderança nas deliberações e apresentou os ODS 
[(Leal Filho et al., 2023)](https://www.sciencedirect.com/science/article/abs/pii/S0959652623012660).

Os ODS consistem em uma série de 17 metas criadas para tratar das questões 
urgentes enfrentadas pela comunidade internacional 
[(Confraria; Ciarli; Noyons, 2024)](https://www.sciencedirect.com/science/article/pii/S0048733323002342). 
Estas metas, acordadas por todos os 193 estados membros da ONU em 2015, fornecem 
uma agenda para o desenvolvimento sustentável que aborda desafios econômicos, 
sociais e ambientais. A exposição dessas questões em 17 objetivos facilita a 
interpretação e a implementação por parte das empresas, do meio acadêmico, da 
sociedade civil e dos formuladores de políticas públicas 
[(Voola et al., 2022)](https://journals.sagepub.com/doi/full/10.1177/14413582221085387).

Os ODS, oferecem uma estrutura abrangente para enfrentar os desafios econômicos, 
ambientais e sociais em busca de um mundo mais igualitário e sustentável para 
as gerações futuras 
(Lim, 2022). 
Os ODS reconhecem a pesquisa e o 
desenvolvimento como um processo transformador que envolve esforços coletivos e 
individuais. Eles reconhecem que as iniciativas de desenvolvimento global 
bem-sucedidas se baseiam em pesquisas minuciosas e em uma compreensão abrangente 
do assunto em questão 
[(Sorooshian, 2024)](https://www.sciencedirect.com/science/article/pii/S0959652624017207). 
A elaboração de relatórios sobre os 
ODS pode facilitar esse processo, fornecendo uma estrutura abrangente com 
objetivos e metas para abordar os ODS econômicos, sociais e ambientais, bem 
como indicadores adequados para medir o progresso em relação a eles 
[(Trane et al., 2023)](https://www.mdpi.com/2071-1050/15/9/7055).

Segundo 
[ONU (2024)](https://www.unicef.org/brazil/objetivos-de-desenvolvimento-sustentavel#:~:text=Os%20ODS%20representam%20um%20plano,pac%C3%ADficas%20e%20inclusivas%20at%C3%A9%202030.)
, os ODS representam um chamado global à ação para erradicar a 
pobreza, preservar o meio ambiente e o clima, e assegurar que todas as pessoas, 
em qualquer lugar, tenham acesso à paz e prosperidade. Esses objetivos refletem 
os esforços das Nações Unidas para alcançar a Agenda 2030 em todo o mundo. 
Os 17 ODS podem ser desdobrados em várias 
metas como podem ser visto a seguir, com base em
[ONU (2024)](https://www.unicef.org/brazil/objetivos-de-desenvolvimento-sustentavel#:~:text=Os%20ODS%20representam%20um%20plano,pac%C3%ADficas%20e%20inclusivas%20at%C3%A9%202030.).


- **ODS 1 - Erradicação da pobreza**: Erradicar a pobreza em todas as formas e em 
todos os lugares

- **ODS 2 - Fome zero e agricultura sustentável**: Erradicar a fome, alcançar a 
segurança alimentar, melhorar a nutrição e promover a agricultura sustentável

- **ODS 3 - Saúde e Bem-Estar**: Assegurar uma vida saudável e promover o bem-estar 
para todas e todos, em todas as idades

- **ODS 4 - Educação de qualidade**: Assegurar a educação inclusiva e equitativa e de 
qualidade, e promover oportunidades de aprendizagem ao longo da vida para todas 
e todos

- **ODS 5 - Igualdade de gênero**: Alcançar a igualdade de gênero e empoderar todas as 
mulheres e meninas

- **ODS 6 - Água potável e saneamento**: Assegurar a disponibilidade e gestão 
sustentável da água e saneamento para todas e todos

- **ODS 7 - Energia limpa e acessível**: Assegurar o acesso confiável, sustentável, 
moderno e a preço acessível à energia para todas e todos

- **ODS 8 - Trabalho decente e crescimento econômico**: Promover o crescimento 
econômico sustentado, inclusivo e sustentável, emprego pleno e produtivo e 
trabalho decente para todas e todos

- **ODS 9 - Indústria, inovação e infraestrutura**: Construir infraestruturas 
resilientes, promover a industrialização inclusiva e sustentável e fomentar a 
inovação

- **ODS 10 - Redução das desigualdades**: Reduzir a desigualdade dentro dos países 
e entre eles

- **ODS 11 - Cidades e comunidades sustentáveis**: Tornar as cidades e os 
assentamentos humanos inclusivos, seguros, resilientes e sustentáveis

- **ODS 12 - Consumo e produção responsáveis**: Assegurar padrões de produção e de 
consumo sustentáveis

- **ODS 13 - Ação contra a mudança global do clima**:	Tomar medidas urgentes para 
- combater a mudança climática e seus impactos

- **ODS 14 - Vida na água**:	Conservação e uso sustentável dos oceanos, dos mares e 
dos recursos marinhos para o desenvolvimento sustentável

- **ODS 15 - Vida terrestre**: Proteger, recuperar e promover o uso sustentável dos 
ecossistemas terrestres, gerir de forma sustentável as florestas, combater a 
desertificação, deter e reverter a degradação da terra e deter a perda de 
biodiversidade

- **ODS 16 - Paz, Justiça e Instituições Eficazes**: Promover sociedades pacíficas e 
inclusivas para o desenvolvimento sustentável, proporcionar o acesso à justiça 
para todos e construir instituições eficazes, responsáveis e inclusivas em todos 
os níveis

- **ODS 17 - Parcerias e meios de implementação**: Fortalecer os meios de 
implementação e revitalizar a parceria global para o desenvolvimento sustentável

Apesar de serem amplos e ambiciosos, os ODS enfrentam contradições inerentes, 
principalmente entre a sustentabilidade ambiental e o desenvolvimento 
socioeconômico 
[(Voola et al., 2022)](https://journals.sagepub.com/doi/full/10.1177/14413582221085387).
No entanto, os ODS se transformaram em uma 
linguagem e uma estrutura universais, unificando as partes interessadas para 
enfrentar esses desafios de forma colaborativa. Devido à natureza complexa dos 
desafios da sustentabilidade, a inovação é considerada crucial para soluções 
transformadoras e sustentáveis que não necessariamente exigem grande quantidade 
de recursos financeiros 
[(Voola et al., 2022)](https://journals.sagepub.com/doi/full/10.1177/14413582221085387).

De acordo com a literatura, há um progresso insuficiente em direção à realização 
dos ODS, e existe a possibilidade de a comunidade global não atingir essas 
metas até o ano previsto de 2030. Para efetivar a Agenda 2030, será necessário 
realizar um investimento significativo em pesquisa e desenvolvimento. A 
implementação dos resultados das pesquisas pode ser facilitada por meio de uma 
estratégia colaborativa entre diversas partes interessadas, incluindo a 
comunidade acadêmica, autoridades e indivíduos civis 
[(Sorooshian, 2024)](https://www.sciencedirect.com/science/article/pii/S0959652624017207).

Entre as principais iniciativas nacionais para promoção ODS, pode-se destacar o 
Programa Cidades Sustentáveis (PCS), que se fundamenta no esforço de integração 
de dimensões sociais, econômicas, ambientais, políticas e culturais no 
planejamento municipal Desenvolvido pelo Instituto Cidades 
Sustentáveis, este esforço se concentra na mobilização de governos locais para a 
implementação de políticas públicas estruturantes que enfrentem a desigualdade 
social e promovam o desenvolvimento de cidades mais justas e sustentáveis a 
partir de eixos temáticos alinhados aos Objetivos de Desenvolvimento Sustentável 
(ODS), das Nações Unidas 
[(PCS 2024)](https://www.cidadessustentaveis.org.br/paginas/pcs). 

Entre os destaques do PCS estão seus 260 indicadores específicos, que 
possibilitam medir o progresso dos ODS em cada município brasileiro. Esses 
indicadores são utilizados para pontuar o desempenho municipal em áreas como 
saúde, educação, segurança, mobilidade, habitação, entre outras fornecendo, 
portanto, uma infraestrutura de dados crucial na promoção da Agenda 2030 no 
Brasil 
[(PCS 2024)](https://www.cidadessustentaveis.org.br/paginas/pcs). 

Cumpre ressaltar que além do PCS há outras ações relevantes, como o Sistema de 
Indicadores de Desenvolvimento Sustentável (IDS) do Instituto Brasileiro de 
Geografia e Estatística 
[(IBGE, 2015)](https://www.ibge.gov.br/geociencias/informacoes-ambientais/estatisticas-e-indicadores-ambientais/15838-indicadores-de-desenvolvimento-sustentavel.html), 
que fornece dados abrangentes sobre o progresso 
nacional em relação aos ODS, e o 
[Observatório dos ODS](https://observatorioods.wordpress.com/), 
uma plataforma colaborativa que reúne organizações da sociedade civil, 
universidades e governos para monitorar a implementação da Agenda 2030 no Brasil. 
Essas iniciativas complementam os esforços do PCS e demonstram o compromisso 
brasileiro com a sustentabilidade e a redução das desigualdades.

## Orçamento Público Municipal

O Ministério do Planejamento e Orçamento do Brasil, em 2024, caracteriza o 
orçamento público como um mecanismo de planejamento estatal que inclui os gastos 
governamentais para um determinado ano, em conformidade com a projeção de 
receitas. Este é o registro no qual o governo concentra as estimativas de todas 
as receitas a serem obtidas e os planos relativos à sua alocação 
[(Paula; Pinho, 2023)](https://www.scielo.br/j/ram/a/9ZK4sxbDFJxBhbzcywj5nkN/).

Portanto, é correto afirmar que o orçamento público possui uma dimensão política, 
pois apresenta as políticas governamentais que englobam, principalmente, 
decisões de interesse público, atendendo às demandas e necessidades dos três 
Poderes, seus órgãos e entidades. Estes atuam de forma participativa na 
elaboração, aprovação e fiscalização do orçamento 
[(Abraham, 2013)](https://www.grupogen.com.br/juridica/e-book-curso-de-direito-financeiro-brasileiro-8-edicao-2025-marcus-abraham-editora-forense-9788530995706?srsltid=AfmBOoq_tx-eLcNgoHk2IGCu8HufS-90Bkl6TsNHdEmn2gTUwbXZwdEU).

No Brasil, um país de vastas dimensões territoriais, composto por 26 estados, 
além do Distrito Federal, e 5.570 municípios, cada entidade possui sua própria 
autonomia fiscal, administrativa e política. Essas unidades apresentam uma ampla 
diversidade em termos de área, população, densidade demográfica, diversificação 
econômica e outros indicadores. O pacto federativo brasileiro envolve três 
níveis de governo: União, estados (incluindo o Distrito Federal) e municípios 
[(Paula; Pinho, 2023)](https://www.scielo.br/j/ram/a/9ZK4sxbDFJxBhbzcywj5nkN/).

De acordo com dados de 2019 (IBGE, 2019), considerando a receita tributária 
arrecadada no país, a União detém 58%, seguida pelos estados e pelo Distrito 
Federal, que somam 34%, e pelos municípios, com apenas 8% da receita tributária 
total. Apesar da menor arrecadação, estados e municípios enfrentam dificuldades 
para administrar plenamente suas atribuições com seus próprios recursos, 
necessitando de uma redistribuição da receita tributária do governo central para 
garantir a prestação de serviços à população. Essa necessidade de redistribuição 
questiona a verdadeira autonomia financeira dos estados e municípios 
[(Paula; Pinho, 2023)](https://www.scielo.br/j/ram/a/9ZK4sxbDFJxBhbzcywj5nkN/).

O orçamento é estruturado em **funções** e **subfunções**, que organizam as 
despesas públicas conforme áreas de atuação governamental. Ou seja, pode-se agrupar
os gastos públicos municipais por critério funcional de modo evidenciar as
destinações dos recursos
[MOG nº 42/1999](https://www.congressonacional.leg.br/legislacao-e-publicacoes/glossario-orcamentario/-/orcamentario/termo/classificacao_funcional). Assim, esta classificação permite maior transparência e eficiência 
na aplicação dos recursos públicos. Abaixo são listadas as funções.

- **Legislativa**
  - Abrange atividades relacionadas à elaboração de leis e à fiscalização do Executivo, como _Ação Legislativa_ e _Controle Externo_.

- **Judiciária**
  - Inclui ações do sistema de justiça, como _Ação Judiciária_ e _Defesa do Interesse Público no Processo Judiciário_.

- **Essencial à Justiça**
  - Envolve atividades que asseguram o funcionamento do sistema de justiça, como _Defesa da Ordem Jurídica_ e _Representação Judicial e Extrajudicial_.

- **Administração**
  - Refere-se à gestão pública, incluindo subfunções como _Planejamento e Orçamento_, _Administração Geral_, _Tecnologia da Informação_ e _Formação de Recursos Humanos_.

- **Defesa Nacional**
  - Abrange atividades militares de proteção e soberania, como _Defesa Aérea_, _Defesa Naval_ e _Defesa Terrestre_.

- **Segurança Pública**
  - Envolve ações de proteção da sociedade, como _Policiamento_, _Defesa Civil_ e _Informação e Inteligência_.

- **Relações Exteriores**
  - Representa a atuação diplomática, incluindo _Relações Diplomáticas_ e _Cooperação Internacional_.

- **Assistência Social**
  - Foca na proteção de grupos vulneráveis, com subfunções como _Assistência ao Idoso_ e _Assistência à Criança e ao Adolescente_.

- **Previdência Social**
  - Inclui ações relacionadas à seguridade, como _Previdência Básica_ e _Previdência Complementar_.

- **Saúde**
  - Abrange atividades de promoção à saúde, como _Atenção Básica_, _Assistência Hospitalar_ e _Vigilância Sanitária_.

- **Trabalho**
  - Refere-se a políticas de emprego, como _Proteção ao Trabalhador_ e _Fomento ao Trabalho_.

- **Educação**
  - Inclui investimentos em ensino, como _Ensino Fundamental_, _Educação Infantil_ e _Ensino Superior_.

- **Cultura**
  - Promove ações culturais, como _Patrimônio Histórico_ e _Difusão Cultural_.

- **Direitos da Cidadania**
  - Abrange atividades de proteção dos direitos, como _Direitos Individuais e Coletivos_ e _Assistência aos Povos Indígenas_.

- **Urbanismo**
  - Relaciona-se à infraestrutura urbana, como _Infraestrutura Urbana_ e _Serviços Urbanos_.

- **Habitação**
  - Trata de programas habitacionais, como _Habitação Rural_ e _Habitação Urbana_.

- **Saneamento**
  - Envolve ações de infraestrutura hídrica, como _Saneamento Básico Urbano_ e _Saneamento Básico Rural_.

- **Gestão Ambiental**
  - Foca na preservação e recuperação ambiental, como _Controle Ambiental_ e _Recuperação de Áreas Degradadas_.

- **Ciência e Tecnologia**
  - Promove o desenvolvimento científico e tecnológico, como _Difusão do Conhecimento Científico_ e _Desenvolvimento Tecnológico_.

- **Agricultura**
  - Apoia o setor agropecuário, com ações como _Promoção da Produção Vegetal_ e _Extensão Rural_.

- **Organização Agrária**
  - Inclui atividades como _Reforma Agrária_ e _Colonização_.

- **Indústria**
  - Refere-se ao desenvolvimento industrial, como _Produção Industrial_ e _Propriedade Industrial_.

- **Comércio e Serviços**
  - Abrange setores comerciais e de serviços, como _Turismo_ e _Comércio Exterior_.

- **Comunicações**
  - Foca em infraestrutura de comunicação, como _Telecomunicações_ e _Comunicações Postais_.

- **Energia**
  - Relaciona-se à produção e distribuição de energia, como _Energia Elétrica_ e _Biocombustíveis_.

- **Transporte**
  - Inclui ações como _Transporte Rodoviário_ e _Transporte Ferroviário_.

- **Desporto e Lazer**
  - Promove atividades recreativas e esportivas, como _Lazer_ e _Desporto Comunitário_.

- **Encargos Especiais**
  - Representa despesas específicas, como _Serviço da Dívida Interna_ e _Outras Transferências_.

A classificação funcional do orçamento é essencial para organizar os gastos 
públicos de forma eficiente e transparente, permitindo o acompanhamento e 
avaliação do uso dos recursos em cada área de atuação governamental.

## Análise Envoltória de Dados (DEA)

A Análise Envoltória de Dados (DEA), desenvolvida por 
[Charnes et al. (1978)](https://www.sciencedirect.com/science/article/pii/0377221778901388), 
é uma técnica matemática de programação linear utilizada para medir a eficiência 
relativa de unidades que desempenham atividades similares, conhecidas como 
Unidades Tomadoras de Decisão (DMUs - Decision Making Units). Um dos grandes 
diferenciais da DEA é que ela não exige a definição de uma relação funcional 
prévia entre os insumos (inputs) e os produtos (outputs), como ocorre em 
outras abordagens estatísticas. Isso a torna especialmente útil quando a relação 
entre as variáveis é complexa ou desconhecida 
[(Benito et al., 2019)](https://www.sciencedirect.com/science/article/pii/S0264275118317220).

A técnica constrói uma fronteira de eficiência, baseada no desempenho das DMUs 
mais produtivas dentro de um conjunto analisado. Cada DMU é comparada com essa 
fronteira, o que permite calcular sua eficiência relativa. Os valores de 
eficiência variam entre 0 e 1, sendo que DMUs com valor 1 são consideradas 
eficientes, enquanto valores menores que 1 indicam ineficiência 
[(Sinuany-Stern, 2022)](https://www.sciencedirect.com/science/article/pii/S0377221722008578). 
A eficiência é calculada como uma razão entre a soma ponderada dos outputs e a 
soma ponderada dos inputs. 

O que torna a DEA ainda mais poderosa é sua flexibilidade na escolha dos pesos. 
Cada DMU é livre para atribuir pesos às variáveis de forma que maximize sua 
eficiência dentro do modelo, respeitando certas restrições. Isso garante que 
as DMUs sejam avaliadas sob as condições mais favoráveis possíveis, evitando 
julgamentos preconcebidos sobre a importância relativa de inputs e outputs 
[(Hatami-Marbini; Toloo, 2017)](https://www.sciencedirect.com/science/article/pii/S0957417416307126).

Além de não requerer uma relação funcional prévia, a DEA possui outras vantagens 
importantes, das quais pode-se enfatizar:

1. **Identificação de melhorias específicas**: O modelo sugere como cada DMU 
pode ajustar seus inputs e outputs para se tornar eficiente, servindo como uma 
ferramenta prática de gestão 
[(Al-Refaie, 2014)](https://www.sciencedirect.com/science/article/pii/S1569190X13001706).

2. **Aplicação a múltiplos contextos**: A técnica é amplamente utilizada em 
áreas como saúde, educação, transporte e sustentabilidade, devido à sua 
adaptabilidade.

3. **Análise comparativa justa**: Cada DMU é avaliada com base em suas 
características únicas, mas sempre em comparação com as melhores práticas 
observadas no grupo analisado.

O primeiro modelo DEA, conhecido como CCR (Charnes, Cooper e Rhodes), assume 
retornos constantes de escala, ou seja, considera que a eficiência de uma DMU 
não é influenciada por seu tamanho. Este modelo clássico serve como base para 
variações mais avançadas que incorporam retornos variáveis de escala ou outras 
características específicas do contexto analisado 
[(Miranda et al., 2017)](https://www.sciencedirect.com/science/article/pii/S0377221717303491).

Como base no descrito o modelo de Análise Envoltória de dados (DEA-CCR) orientado
a produto pode ser assim formulado:


$$ \min{} \theta_0 = \sum_{i = 1}^{r} v_i \ x_{i0}$$
$$Sujeito \ à:$$
$$ \sum_{j = 1}^{s} u_j \ y_{j0} = 1 $$
$$(\sum_{j = 1}^{s} u_j \ y_{jk}) - (\sum_{i = 1}^{r} v_i \ x_{ik}) \leq 0, \forall  \ k$$
$$v_i, \ u_j \geq 0, \forall \ i, \ j$$

No modelo DEA orientado a produto, o objetivo é maximizar os outputs de uma DMU 
enquanto se mantêm os níveis de inputs fixos. A interpretação prática dessa 
abordagem é especialmente útil em situações onde os recursos disponíveis (insumos) 
são limitados ou já estão plenamente utilizados, e o foco da gestão está em 
aumentar os resultados obtidos com esses recursos.


# MÉTODO DE PESQUISA

## Seleção de Municípios 

Com a finalidade de realizar a análise comparativa de eficiência orçamentária em
relação aos ODS dos municípios brasileiros, foi necessário definir um critério 
de seleção de municípios de modo a garatir que a amostra fosse minimamente 
homogênea ao município de Itajubá-MG (foco deste relatório). Assim, definiu-se 
como critério o tamanho populacional, assumindo por hipótese que o porte do município
reflete desafios similares na formulação de políticas públicas e na gestão dos 
recursos financeiros para atendimento às demandas .

Mais especificamente, foram selecionados municípios na faixa de 75.000 a 150.000
habitantes. Este intervalo foi escolhido para representar municípios de porte médio,
os quais, em geral, enfrentam desafios típicos de cidades em desenvolvimento e, ao
mesmo tempo, possuem capacidade administrativa intermediária para implementar
políticas voltadas ao cumprimento dos ODS.

A partir do exposto, a amostra foi reduzida a 232 municípios brasileiros. 
No dashboard abaixo é possível analisar a amostra selecionada. 

```{r echo=FALSE}
mapa_total_pop <- mapa_total %>% 
  dplyr::left_join(populacao, by = c('code_muni' = 'municipio_codigo')) 


g2_amostra <- 
  ggplot() + 
  geom_sf(data = estados, 
          aes(),
          fill = 'white') + 
  geom_sf(data = mapa_total_pop, 
          aes(group = 1,
              text = paste0('Município: ', name_muni,
                            '<br>Estado: ', abbrev_state,
                            '<br>Região: ', name_region,
                            '<br>População: ', scales::number(
                              pop,
                              big.mark = '.'))),
          fill = 'white',
          size = 1,
          color = cor_base) +
  theme_minimal() + 
  theme(axis.title = element_blank(),
        axis.text = element_blank(),
        axis.ticks = element_blank(),
        panel.grid = element_blank()) 

g2_amostra <- plotly::ggplotly(g2_amostra, tooltip = 'text') %>% 
  plotly::config(modeBarButtonsToRemove = plotly_layout)

g2_amostra 
```

```{r echo=FALSE, fig.height=3}
g1_amostra <- as.data.frame(mapa_total) %>%
  dplyr::select(name_region) %>%
  table() %>% 
  as.data.frame() %>% 
  dplyr::rename('regiao' = name_region,
                'municipios' = Freq) %>%
  dplyr::mutate(regiao = as.character(regiao),
                municipios = as.numeric(municipios)) %>%
  dplyr::arrange(desc(municipios)) %>%
  dplyr::mutate(regiao = forcats::fct_reorder(regiao, municipios)) %>% 
  ggplot() + 
  geom_col(aes(y = regiao, x = municipios, group = 1,
               text = paste0('Região: ', regiao,
                             '<br>Número de Municípios:', municipios)),
           fill = cor_base) + 
  labs(y = '',
       x = 'Número de Municípios') +
  theme_minimal() +
  theme(axis.ticks = element_blank(),
        panel.grid = element_blank()) 

g1_amostra <- plotly::ggplotly(g1_amostra, tooltip = 'text') %>% 
  plotly::config(modeBarButtonsToRemove = plotly_layout)

g1_amostra
```


A partir do dashboard pode-se observar que o critério de seleção proposto garante 
uma amostra suficientemente representativa das realidades díspares encontradas no
extenso territóreo nacional. A partir da análise desses 232 municípios pode-se 
captar variações regionais de municípios homogêneos em termos de dificuldades 
operacionais. 

Cumpre ressaltar que integral cobertura geográfica observada garantem que o estudo 
forneça uma contribuição não pequena não só para as localidades analisadas, 
mas também para a formulação de políticas em âmbito estadual e mesmo nacional. 
Com isso, o presente relatório contribui para o desenvolvimento de soluções 
integradas que atendam às múltiplas dimensões do desenvolvimento sustentável no 
país.

## Modelo Conceitual Proposto

O modelo conceitual proposto neste trabalho organiza os municípios brasileiros 
com população entre 75 mil e 150 mil habitantes como as Unidades de Decisão 
(DMU's, do inglês Decision Making Units). A análise utiliza a técnica de Análise 
Envoltória de Dados (DEA) para avaliar a eficiência do gasto público em 
promover Objetivos de Desenvolvimento Sustentável (ODS) selecionados.

Os insumos foram agrupados de forma a refletir a destinação dos orçamentos 
municipais, organizados em cinco grandes categorias funcionais:

- **Saúde e Desporto e Lazer**: Representa os gastos destinados à promoção do 
bem-estar físico e mental, além de atividades recreativas e esportivas. Este 
agrupamento está diretamente associado ao ODS 3, que busca assegurar uma vida 
saudável.

- **Educação e Cultura**: Inclui investimentos na formação educacional e 
iniciativas culturais. Este insumo está vinculado ao ODS 4, relacionado à 
garantia de uma educação inclusiva e equitativa.

- **Saneamento e Gestão Ambiental**: Combina gastos relacionados à 
infraestrutura de saneamento e ações de preservação ambiental. Este agrupamento 
está alinhado ao ODS 6, que trata do acesso à água potável e ao saneamento adequado.

- **Urbanismo, Habitação, Transporte, Segurança Pública e Agricultura**: Envolve 
despesas para melhoria de infraestrutura urbana, habitação, mobilidade, 
segurança pública e atividades agrícolas. Estes componentes estão relacionados 
ao ODS 11, que busca promover cidades inclusivas e sustentáveis.

- **Outros**: Representa categorias complementares, como administração pública, 
assistência social, comércio e serviços, ciência e tecnologia, entre outras 
funções menos diretamente relacionadas aos ODS avaliados, mas essenciais para o 
funcionamento geral dos municípios.

Assim, obviamente os produtos considerados no modelo correspondem aos resultados 
alcançados pelos municípios em relação aos respectivos ODS:

- **ODS 3**: Indicadores de saúde, qualidade de vida e bem-estar da população.
- **ODS 4**: Níveis de acesso e qualidade da educação.
- **ODS 6**: Cobertura de saneamento básico e acesso à água potável.
- **ODS 11**: Planejamento urbano sustentável, habitação e transporte eficiente.

Assim, o agrupamento dos orçamentos municipais em insumos 
específicos segue a lógica de maximizar a relação entre os recursos aplicados e 
os objetivos globais definidos pelos ODS. A segmentação reflete uma compreensão 
integrada das políticas públicas, em que gastos de natureza semelhante são 
analisados em conjunto para avaliar sua eficiência em gerar impactos mensuráveis.

Por exemplo, o investimento em saúde e desporto/lazer não apenas melhora os 
indicadores de saúde, mas também contribui para o bem-estar geral da população, 
fortalecendo o ODS 3. Gastos em saneamento e gestão ambiental impactam diretamente 
o ODS 6 ao mitigar problemas de saúde pública e promover a preservação ambiental.
Assim por diante. A Figura abaixo consiste em uma representação do modelo 
conceitual proposto.

```{r echo=FALSE}

knitr::include_graphics(path = 'modelo_conceitual.png')
```

A análise proposta é inovadora e essencial, pois:

- Avalia a eficiência: Identifica municípios que obtêm melhores resultados com 
menos recursos, oferecendo exemplos de boas práticas.

- Fomenta a transparência: Promove a compreensão clara de como os recursos 
públicos estão sendo utilizados para alcançar os ODS.

- Apoia o planejamento estratégico: Auxilia gestores públicos a priorizar ações 
e ajustar políticas para melhorar a alocação de recursos.

Em síntese, este trabalho contribui significativamente para a literatura sobre 
eficiência do setor público, ao mesmo tempo em que oferece ferramentas práticas 
para otimizar o uso de recursos municipais na promoção do desenvolvimento 
sustentável.

### Análise dos Insumos

Lorem ipsum! Lorem ipsum! Lorem ipsum! Lorem ipsum! Lorem ipsum! Lorem ipsum! 

```{r echo=FALSE}
mapa_insumos_key <- SharedData$new(mapa_insumos)

g1_disp_insumos <- mapa_insumos_key %>%
  ggplot() +
  geom_boxplot(aes(y = valor, x = insumo)) + 
  geom_jitter(aes(y = valor, x = insumo, color = name_region, group = 1,
                  text = paste0('Município: ', name_muni,
                                '<br>Região: ', name_region,
                                '<br>Insumo: ', insumo,
                                '<br>Valor: ', scales::number(valor,
                                                              accuracy = 0.01,
                                                              decimal.mark = ',',
                                                              big.mark = '.'),
                                ' R$/Habitante')),
              size = 1) +
  scale_y_continuous(labels = scales::number_format(big.mark = '.')) +
  scale_x_discrete(labels = c('Educação e \n Cultura',
                              'Outros',
                              'Saneamento e \n Gestão Ambiental',
                              'Saúde, \n Desporto e \n Lazer',
                              'Urbanismo, \n Transporte e \n Segurança')) +
  scale_color_viridis_d() +
  labs(x = '',
       y = 'R$/Habitante',
       color = '') +
  theme_classic() +
  theme(legend.position = 'bottom',
        axis.title.x = ggtext::element_markdown(),
        axis.title.y = ggtext::element_markdown())

g1_disp_insumos <- plotly::ggplotly(g1_disp_insumos, tooltip = 'text') %>%
  plotly::layout(legend = list(orientation = 'h',
                               x = 0,
                               y = -0.25, 
                               xanchor='left',
                               yanchor='bottom')) %>%
  plotly::config(modeBarButtonsToRemove = plotly_layout)

                         
                         
bscols(widths = c(6, 6),
       filter_checkbox('regiao', 'Região:', mapa_insumos_key, ~name_region, inline = FALSE),
       list(
       filter_select('municipio', 
                     'Município:', 
                     mapa_insumos_key, 
                     ~name_muni, 
                     multiple = TRUE),
       filter_slider('valor', 
                     'Valor:', 
                     mapa_insumos_key, 
                     ~valor, 
                     min = 0, 
                     max = 70000,
                     step = 10000)))

g1_disp_insumos
```

Lorem ipsum! Lorem ipsum! Lorem ipsum! Lorem ipsum! Lorem ipsum! Lorem ipsum! 

```{r echo=FALSE}
tb1_insumos <- datatable(mapa_insumos_key,
                         rownames = FALSE,
                         extensions = c('Responsive'),
                         options = list(
                           dom = 'tip',
                           language = list(url = 'https://cdn.datatables.net/plug-ins/1.10.11/i18n/Portuguese-Brasil.json')),
                         colnames = c('Região',
                                      'Município',
                                      'Insumo',
                                      'Valor')) %>% 
  formatCurrency(4, 
                 currency = 'R$ ',
                 mark = '.',
                 dec.mark = ',',
                 digits = 2)

tb1_insumos
```

Lorem ipsum! Lorem ipsum! Lorem ipsum! Lorem ipsum! Lorem ipsum! Lorem ipsum! 
Lorem ipsum! Lorem ipsum! Lorem ipsum! Lorem ipsum! Lorem ipsum! Lorem ipsum! 
Lorem ipsum! Lorem ipsum! Lorem ipsum! Lorem ipsum! Lorem ipsum! Lorem ipsum! 
Lorem ipsum! Lorem ipsum! Lorem ipsum! Lorem ipsum! Lorem ipsum! Lorem ipsum! 
Lorem ipsum! Lorem ipsum! Lorem ipsum! Lorem ipsum! Lorem ipsum! Lorem ipsum! 

Lorem ipsum! Lorem ipsum! Lorem ipsum! Lorem ipsum! Lorem ipsum! Lorem ipsum! 
Lorem ipsum! Lorem ipsum! Lorem ipsum! Lorem ipsum! Lorem ipsum! Lorem ipsum! 
Lorem ipsum! Lorem ipsum! Lorem ipsum! Lorem ipsum! Lorem ipsum! Lorem ipsum! 
Lorem ipsum! Lorem ipsum! Lorem ipsum! Lorem ipsum! Lorem ipsum! Lorem ipsum! 
Lorem ipsum! Lorem ipsum! Lorem ipsum! Lorem ipsum! Lorem ipsum! Lorem ipsum! 

```{r echo=FALSE}
mapa_insumos_2 <- mapa_insumos
mapa_insumos_key_2 <- SharedData$new(mapa_insumos_2)

g1_box_insumos <- mapa_insumos_key_2 %>%
  ggplot() +
  geom_boxplot(aes(y = valor, x = as.factor(insumo), color = name_region)) + 
  scale_y_continuous(labels = scales::number_format(big.mark = '.')) +
  scale_x_discrete(labels = c('Educação e \n Cultura',
                              'Outros',
                              'Saneamento e \n Gestão Ambiental',
                              'Saúde, \n Desporto e \n Lazer',
                              'Urbanismo, \n Transporte e \n Segurança')) +
  scale_color_viridis_d() +
  labs(x = '',
       y = 'R$/Habitante',
       color = '') +
  theme_classic() +
  theme(legend.position = 'bottom',
        axis.title.x = ggtext::element_markdown(),
        axis.title.y = ggtext::element_markdown())

g1_box_insumos <- plotly::ggplotly(g1_box_insumos, tooltip = 'text') %>%
  plotly::layout(legend = list(orientation = 'h',
                               x = 0,
                               y = -0.25, 
                               xanchor='left',
                               yanchor='bottom')) %>%
  plotly::config(modeBarButtonsToRemove = plotly_layout)

bscols(widths = c(12),
       filter_checkbox('regiao', 'Região:', 
                       mapa_insumos_key_2, 
                       ~name_region, 
                       inline = TRUE))

g1_box_insumos
```

### Análise dos Produtos

Lorem ipsum! Lorem ipsum! Lorem ipsum! Lorem ipsum! Lorem ipsum! Lorem ipsum! 

```{r echo=FALSE}
mapa_produtos_key <- SharedData$new(mapa_produtos)

g1_disp_produtos <- mapa_produtos_key %>%
  ggplot() +
  geom_boxplot(aes(y = valor, x = produto)) + 
  geom_jitter(aes(y = valor, x = produto, color = name_region, group = 1,
                  text = paste0('Município: ', name_muni,
                                '<br>Região: ', name_region,
                                '<br>Produto: ', produto,
                                '<br>Valor: ', scales::number(valor,
                                                              accuracy = 0.01,
                                                              decimal.mark = ',',
                                                              big.mark = '.'))),
              size = 1) +
  scale_y_continuous(labels = scales::number_format(big.mark = '.')) +
  scale_color_viridis_d() +
  labs(y = 'Número Índice',
       x = '',
       color = '') +
  theme_classic() +
  theme(legend.position = 'bottom')

g1_disp_produtos <- plotly::ggplotly(g1_disp_produtos, tooltip = 'text') %>%
  plotly::layout(legend = list(orientation = 'h',
                               x = 0,
                               y = -0.25, 
                               xanchor='left',
                               yanchor='bottom')) %>%
  plotly::config(modeBarButtonsToRemove = plotly_layout)

                         
                         
bscols(widths = c(6, 6),
       filter_checkbox('regiao', 'Região:', mapa_produtos_key, ~name_region, inline = FALSE),
       list(
       filter_select('municipio', 
                     'Município:', 
                     mapa_produtos_key, 
                     ~name_muni, 
                     multiple = TRUE),
       filter_slider('valor', 
                     'Valor:', 
                     mapa_produtos_key, 
                     ~valor, 
                     min = 0, 
                     max = 100,
                     step = 10)))

g1_disp_produtos
```

Lorem ipsum! Lorem ipsum! Lorem ipsum! Lorem ipsum! Lorem ipsum! Lorem ipsum! 

```{r echo=FALSE}
tb1_produtos <- datatable(mapa_produtos_key,
                         rownames = FALSE,
                         extensions = c('Responsive'),
                         options = list(
                           dom = 'tip',
                           language = list(url = 'https://cdn.datatables.net/plug-ins/1.10.11/i18n/Portuguese-Brasil.json')),
                         colnames = c('Região',
                                      'Município',
                                      'Produto',
                                      'Valor')) %>% 
  formatRound(4, 
              mark = '.',
              dec.mark = ',',
              digits = 2)

tb1_produtos
```

Lorem ipsum! Lorem ipsum! Lorem ipsum! Lorem ipsum! Lorem ipsum! Lorem ipsum! 
Lorem ipsum! Lorem ipsum! Lorem ipsum! Lorem ipsum! Lorem ipsum! Lorem ipsum! 
Lorem ipsum! Lorem ipsum! Lorem ipsum! Lorem ipsum! Lorem ipsum! Lorem ipsum! 
Lorem ipsum! Lorem ipsum! Lorem ipsum! Lorem ipsum! Lorem ipsum! Lorem ipsum! 
Lorem ipsum! Lorem ipsum! Lorem ipsum! Lorem ipsum! Lorem ipsum! Lorem ipsum! 

Lorem ipsum! Lorem ipsum! Lorem ipsum! Lorem ipsum! Lorem ipsum! Lorem ipsum! 
Lorem ipsum! Lorem ipsum! Lorem ipsum! Lorem ipsum! Lorem ipsum! Lorem ipsum! 
Lorem ipsum! Lorem ipsum! Lorem ipsum! Lorem ipsum! Lorem ipsum! Lorem ipsum! 
Lorem ipsum! Lorem ipsum! Lorem ipsum! Lorem ipsum! Lorem ipsum! Lorem ipsum! 
Lorem ipsum! Lorem ipsum! Lorem ipsum! Lorem ipsum! Lorem ipsum! Lorem ipsum!

```{r echo=FALSE}
mapa_produtos_2 <- mapa_produtos
mapa_produtos_key_2 <- SharedData$new(mapa_produtos_2)

g1_box_produtos <- mapa_produtos_key_2 %>%
  ggplot() +
  geom_boxplot(aes(y = valor, x = as.factor(produto),
                   color = name_region)) + 
  scale_y_continuous(labels = scales::number_format(big.mark = '.')) +
  scale_color_viridis_d() +
  labs(y = 'Número Índice',
       x = '',
       color = '') +
  theme_classic() +
  theme(legend.position = 'bottom')

g1_box_produtos <- plotly::ggplotly(g1_box_produtos, tooltip = 'text') %>%
  plotly::layout(legend = list(orientation = 'h',
                               x = 0,
                               y = -0.25, 
                               xanchor='left',
                               yanchor='bottom')) %>%
  plotly::config(modeBarButtonsToRemove = plotly_layout)

bscols(widths = c(12),
       filter_checkbox('regiao', 'Região:', 
                       mapa_produtos_key_2, 
                       ~name_region, 
                       inline = TRUE))

g1_box_produtos

```

# DISCUSSÃO DE RESULTADOS

## Nível de Eficiência dos Municípios


```{r echo=FALSE}
eficiencia_muni <- eficiencia %>%
  dplyr::full_join(municipios, by = c('dmu' = 'code_muni')) %>% 
  tidyr::drop_na() %>% 
  dplyr::arrange(desc(score)) %>% 
  dplyr::transmute(name_region,
                   name_muni,
                   score)

eficiencia_key <- SharedData$new(eficiencia_muni)

g1_eficiencia <- eficiencia_key %>% 
  ggplot() +
  geom_boxplot(aes(y = score, 
                   x = as.factor(name_region))) +
  geom_jitter(aes(y = score, 
                  x = as.factor(name_region), 
                  color = name_region, group = 1,
                  text = paste0('Município: ', name_muni,
                                '<br>Região: ', name_region,
                                '<br>Eficiência: ', scales::number(
                                  score,
                                  accuracy = 0.01,
                                  decimal.mark = ',',
                                  big.mark = '.'))),
              size = 1) +
  scale_y_continuous(labels = scales::number_format(big.mark = '.')) +
  scale_color_viridis_d() +
  labs(x = '',
       y = 'Índice de Eficiência',
       color = '') +
  theme_classic() +
  theme(legend.position = 'bottom',
        axis.title.x = ggtext::element_markdown(),
        axis.title.y = ggtext::element_markdown())

g1_eficiencia <- plotly::ggplotly(g1_eficiencia, tooltip = 'text') %>%
  plotly::layout(legend = list(orientation = 'h',
                               x = 0,
                               y = -0.25, 
                               xanchor='left',
                               yanchor='bottom')) %>%
  plotly::config(modeBarButtonsToRemove = plotly_layout)



bscols(widths = c(6, 6),
       filter_checkbox('regiao', 'Região:', 
                       eficiencia_key, 
                       ~name_region, 
                       inline = FALSE),
       list(
         filter_select('municipio', 
                       'Município:', 
                       eficiencia_key, 
                       ~name_muni, 
                       multiple = TRUE),
         filter_slider('valor', 
                       'Valor:', 
                       eficiencia_key, 
                       ~score, 
                       min = 0, 
                       max = 1,
                       step = 0.2)))

g1_eficiencia
```


```{r echo=FALSE}
tb1_eficiencia <- datatable(eficiencia_key,
                         rownames = FALSE,
                         extensions = c('Responsive'),
                         options = list(
                           dom = 'tip',
                           language = list(url = 'https://cdn.datatables.net/plug-ins/1.10.11/i18n/Portuguese-Brasil.json')),
                         colnames = c('Região',
                                      'Município',
                                      'Índice de Eficiência')) %>% 
  formatRound(3, 
              mark = '.',
              dec.mark = ',',
              digits = 2)

tb1_eficiencia
```


## O Municipio de Itajubá

```{r echo=FALSE}
sensibilidade_insumo <- eficiencia %>% 
  dplyr::filter(dmu == 3132404) %>% 
  dplyr::select(dif_educacao,
                dif_outros,
                dif_saneamento,
                dif_saude,
                dif_urbanismo) %>% 
  tidyr::pivot_longer(cols = dplyr::everything(),
                      names_to = 'insumo',
                      values_to = 'valor') %>% 
  dplyr::mutate(
    insumo = dplyr::case_when(
      insumo == 'dif_educacao' ~ 'Educação e \n Cultura',
      insumo == 'dif_outros' ~ 'Outros',
      insumo == 'dif_saneamento' ~ 'Saneamento e \n Gestão Ambiental',
      insumo == 'dif_saude' ~ 'Saúde, \n Desporto e \n Lazer',
      insumo == 'dif_urbanismo' ~ 'Urbanismo, \n Transporte e \n Segurança'
    ),
    valor = -1*round(valor,2)) %>% 
  dplyr::mutate(insumo = forcats::fct_reorder(insumo, valor)) %>% 
  ggplot() + 
  geom_col(aes(y = insumo, x = valor, 
               group = 1,
               text = paste0(
                 'Redução: ', scales::number(
                   valor,
                   accuracy = 0.01,
                   decimal.mark = ',',
                   big.mark = '.'), ' R$/Habitante')),
           fill = contraste_base) +
  labs(x = 'R$/Habitante',
       y = '',
       title = 'Meta de Redução') +
  theme_classic() +
  theme(legend.position = 'bottom',
        axis.title.x = ggtext::element_markdown(),
        axis.title.y = ggtext::element_markdown())

sensibilidade_insumo <- plotly::ggplotly(sensibilidade_insumo, tooltip = 'text') %>%
  plotly::layout(legend = list(orientation = 'h',
                               x = 0,
                               y = -0.25, 
                               xanchor='left',
                               yanchor='bottom')) %>%
  plotly::config(modeBarButtonsToRemove = plotly_layout)

sensibilidade_produto <- eficiencia %>% 
  dplyr::filter(dmu == 3132404) %>% 
  dplyr::select(dplyr::contains('prop_dif_ods')) %>% 
  tidyr::pivot_longer(cols = dplyr::everything(),
                      names_to = 'produto',
                      values_to = 'valor') %>% 
   dplyr::mutate(
     produto = dplyr::case_when(
       produto == 'prop_dif_ods3' ~ 'ODS 3',
       produto == 'prop_dif_ods4' ~ 'ODS 4',
       produto == 'prop_dif_ods6' ~ 'ODS 6',
       produto == 'prop_dif_ods11' ~ 'ODS 11'
     ), 
     valor = round(valor, 4)) %>% 
  dplyr::mutate(produto = forcats::fct_reorder(produto, valor)) %>% 
  ggplot() + 
  geom_col(aes(y = produto, x = valor, 
               group = 1,
               text = paste0(
                 'Melhoria: ', scales::number(
                   valor,
                   accuracy = 0.01,
                   decimal.mark = ',',
                   big.mark = '.'), ' %')),
           fill = cor_base) +
  scale_x_continuous(labels = scales::number_format(accuracy = 0.01,
                                                    decimal.mark = ',',
                                                    big.mark = '.')) + 
  labs(x = '%',
       y = '',
       title = 'Meta de Melhoria') +
  theme_classic() +
  theme(legend.position = 'bottom',
        axis.title.x = ggtext::element_markdown(),
        axis.title.y = ggtext::element_markdown())

sensibilidade_produto <- plotly::ggplotly(sensibilidade_produto, tooltip = 'text') %>%
  plotly::layout(legend = list(orientation = 'h',
                               x = 0,
                               y = -0.25, 
                               xanchor='left',
                               yanchor='bottom')) %>%
  plotly::config(modeBarButtonsToRemove = plotly_layout)

bscols(widths = c(6, 6),
       sensibilidade_insumo,
       sensibilidade_produto)


```

# CONCLUSÃO E RECOMENDAÇÕES

## Síntese

Resuma os principais achados sobre a eficiência dos municípios e o alcance dos ODS.

## Recomendações para o Município de Itajubá

Sugira ações que o município pode adotar com base nos benchmarks de eficiência e nos ODS.

## Eficiência



# APÊNDICE A - ÍNDICE DE INDICADORES POR ODS

- **ODS 3 - Saúde e Bem-Estar**

  - Acidentes de trânsito
  - Atropelamentos
  - Cobertura de vacinas
  - Detecção de hepatite A, B, C e D
  - Gasto municipal em saúde em proporção ao gasto total em saúde
  - Gravidez na adolescência
  - Internação hospitalar por doenças crônicas
  - Investimento em saúde preventiva
  - Leitos hospitalares
  - Mortalidade infantil (crianças menores de um ano)
  - Mortalidade materna
  - Mortalidade na infância (crianças menores de 5 anos de idade)
  - Mortalidade neonatal (crianças de 0 a 27 dias)
  - Mortalidade por Aids
  - Mortalidade por dengue
  - Mortalidade por doenças crônicas não transmissíveis
  - Mortes no trânsito
  - Orçamento municipal para a saúde, per capita
  - Orçamento municipal para a saúde sexual e reprodutiva
  - Pessoas infectadas com dengue
  - Política municipal de assistência aos usuários de drogas e dependentes de álcool
  - População atendida por equipes de saúde da família
  - Pré-natal insuficiente
  - Prevalência de diabetes melito
  - Unidades Básicas de Saúde
  - Unidades de saúde básica que oferecem serviços de planejamento familiar

- **ODS 4 - Educação de qualidade**

  - Acervo de livros infanto-juvenis
  - Acervo de livros para adultos
  - Acesso à internet nas escolas dos ensinos fundamental e médio
  - Adequação idade/ano no Ensino Fundamental
  - Alunos com acesso à quadra esportiva (coberta e descoberta)
  - Alunos com deficiência na rede regular de ensino
  - Alunos, professores e funcionários vítimas de violência no ambiente escolar
  - Analfabetismo funcional da população
  - Analfabetismo na população com 15 anos ou mais
  - Campanhas de educação cidadã
  - Centros culturais, casas e espaços de cultura
  - Crianças e jovens de 4 a 17 anos na escola
  - Crianças plenamente alfabetizadas até os 8 anos de idade
  - Demanda atendida de vagas na pré-escola
  - Demanda atendida de vagas no ensino fundamental
  - Demanda atendida de vagas no ensino médio
  - Demanda atendida em creches
  - Diversidade sociocultural no ensino municipal
  - Educação de Jovens e Adultos (EJA) integrada à educação profissional
  - Educação em tempo integral na pré-escola
  - Educação em tempo integral nas creches
  - Educação em tempo integral no Ensino Fundamental – anos finais
  - Educação em tempo integral no Ensino Fundamental – anos iniciais
  - Ensino superior concluído
  - Escolas com conselhos ativos
  - Escolas com dependências adequadas a pessoas com deficiência
  - Escolas com recursos para Atendimento Educacional Especializado
  - Escolas com temas transversais nos parâmetros curriculares
  - Escolas da rede municipal que abrem aos finais de semana para a comunidade
  - Escolas públicas com esporte educacional no turno obrigatório
  - Índice de Desenvolvimento da Educação Básica (IDEB) - anos finais
  - Índice de Desenvolvimento da Educação Básica (IDEB) - anos iniciais
  - Jovens com ensino médio concluído até os 19 anos de idade
  - Professores com formação em nível superior
  - Professores com licenciatura
  - Professores da educação básica com formação em educação especial
  - Prova Brasil - Língua portuguesa
  - Prova Brasil - Matemática
  - Razão entre as taxas de escolarização por gênero
  - Razão entre o número de alunos e professores na pré-escola
  - Razão entre o número de alunos e professores no ensino fundamental
  - Razão entre o número de alunos e professores no ensino médio

- **ODS 6 - Água potável e saneamento**

  - Acesso permanente e sustentável à água potável
  - Áreas de mananciais protegidas
  - Avaliação oferta/demanda do abastecimento urbano de água
  - Consumo de água per capita
  - Doenças relacionadas ao saneamento ambiental inadequado
  - Esgoto que não recebe nenhum tipo de tratamento
  - Participação do município no Comitê de Bacias
  - Perda de água tratada
  - Planos de médio e longo prazos para recursos hídricos
  - Rede de esgoto (domicílios sem ligação com a rede de esgoto)
  - Rios e córregos classificados com, pelo menos, "bom estado" segundo critérios oficiais

- **ODS 11 - Cidades e comunidades sustentáveis**

  - Ações de preservação, valorização e difusão do patrimônio material e imaterial
  - Área urbana e rural do município
  - Área verde na zona urbana
  - Calçadas acessíveis
  - Ciclovias e ciclofaixas exclusivas
  - Congestionamentos
  - Conselho municipal de cultura e patrimônio histórico
  - Consórcios públicos e Parcerias Público Privadas
  - Corredores exclusivos de ônibus
  - Custo anual dos acidentes de trânsito
  - Déficit habitacional
  - Domicílios em áreas de risco
  - Edifícios novos e reformados com certificação de sustentabilidade ambiental
  - Equipamentos esportivos
  - Frota de ônibus com acessibilidade para pessoas com deficiência
  - Gerenciamento de riscos
  - Impactos humanos e materiais dos eventos climáticos extremos
  - Legislação específica para temas ambientais
  - Número de mortes por desastres socioambientais
  - Orçamento de transporte destinado a transporte público
  - Peso da tarifa de transporte público no orçamento mensal
  - Planejamento integrado entre todas as secretarias
  - Plano de gestão integrada de resíduos sólidos
  - Plano Diretor participativo
  - População idosa
  - População residente em aglomerados subnormais
  - Propriedade de imóveis
  - Proximidade de transporte público
  - Recursos públicos municipais para cultura
  - Tempo médio gasto da moradia ao local de trabalho
  - Transporte público por ônibus com energia sustentável




 

















































